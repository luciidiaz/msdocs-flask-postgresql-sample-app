<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Uploads</title>
</head>
<body>
    <h1>Listado de Imágenes Subidas</h1>
    <table border="1" cellpadding="6">
        <thead>
            <tr>
                <th>Usuario</th>
                <th>Nombre del Archivo</th>
                <th>Imagen</th>
                <th>Número de Píxeles</th>
                <th>Fecha de Subida</th>
                <th>Colores Detectados</th>
            </tr>
        </thead>
        <tbody>
            {% for upload in uploads %}
            <tr>
                <td>{{ upload.user }}</td>
                <td>{{ upload.filename }}</td>
                <td>
                    <img src="{{ url_for('static', filename='uploads/' + upload.filename) }}" alt="{{ upload.filename }}" width="100">
                </td>
                <td>{{ upload.pixel_count }}</td>
                <td>{{ upload.upload_date.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                <td>
                    {% if upload.colors %}
                        <ul>
                        {% for color in upload.colors %}
                            <li>(<code>{{ color.r }}, {{ color.g }}, {{ color.b }}</code>): {{ color.count }}</li>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <em>Sin colores</em>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
